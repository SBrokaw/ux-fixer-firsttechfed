/* Minified on 5/28/2024*/
!function(){"use strict";!function(){let o=!1,i=!1;window.Alkami=window.Alkami||{},window.Alkami.LoginGroups={...window.Alkami.LoginGroups,async _loadAndMountApp(){if(o)throw new Error("[Login Groups] App is already loading!");if(!i)try{o=!0,await window.Alkami.Cdn.scriptWithCacheExpiration("/Modules/Alkami.Modules.LoginGroups/Scripts/vendors.min.js"),await window.Alkami.Cdn.scriptWithCacheExpiration("/Modules/Alkami.Modules.LoginGroups/Scripts/login-groups.min.js"),i=!0}finally{o=!1}if(!window.Alkami.LoginGroups._mountApp)throw new Error("[Login Groups] App did not load correctly!");return await window.Alkami.LoginGroups._mountApp()},async openSwitchProfile(){await window.Alkami.LoginGroups._loadAndMountApp(),window.Alkami.LoginGroups._openSwitchProfile()},async hasLoginGroup(){const o=sessionStorage.getItem("alkami.logingroups.haslogingroup"),i=o?JSON.parse(o):null;if(!(null==i||"object"!=typeof i||"string"!=typeof i.expiresAt||new Date(i.expiresAt)<=new Date))return!0===i.value;try{const o=await fetch("/Modules/LoginGroups/Settings"),i=(await o.json()).hasLoginGroup;return sessionStorage.setItem("alkami.logingroups.haslogingroup",JSON.stringify({expiresAt:new Date((new Date).getTime()+3e5).toISOString(),value:i})),i}catch{return!1}},async getLoginGroupUsers(){const o=await fetch("/Modules/LoginGroups/Users");return await o.json()},async getSiteText(){const o=await fetch("/Modules/LoginGroups/SiteText");return await o.json()},switchProfile(o){window.location.href=`/Authentication/LoginGrouping?targetUserIdentifier=${encodeURIComponent(o)}`}},window.addEventListener("load",(async()=>{var o;const i=["Authentication/LoginGrouping"],n=window.location.pathname.toLowerCase();for(const o of i)if(n.includes(o.toLowerCase()))return;await window.Alkami.LoginGroups.hasLoginGroup()&&(null===(o=window.Alkami.Header)||void 0===o?void 0:o.showSwitchProfileButton)&&window.Alkami.Header.showSwitchProfileButton()})),window.Alkami.LoginGroups}()}();
//# sourceMappingURL=Scripts\login-groups-plugin.min.js.map