/* Minified on 1/30/2025 */
function ViewModel(e){var r=this;r.emailError=ko.observable(!1),r.addressError=ko.observable(!1),r.savingEmail=ko.observable(!1),r.savingAddress=ko.observable(!1),r.emailConfirmed=ko.observable(!1),r.addressConfirmed=ko.observable(!1),r.user=e,r.emailConfirmationButtonText=ko.observable(Alkami.Localization.SiteText["DashboardV2.EmailConfirmationButtonText"]),r.addressConfirmationButtonText=ko.observable(Alkami.Localization.SiteText["DashboardV2.AddressConfirmationButtonText"]),r.confirmationClose=function(){$("#contact_confirmation_list").hide()},r.showEmailAlert=ko.pureComputed((function(){return r.user.EmailConfirmationAlertEnabled()&&!r.emailConfirmed()})),r.showAddressAlert=ko.pureComputed((function(){return r.user.PhysicalAddressConfirmationAlertEnabled()&&!r.addressConfirmed()})),r.address=function(){return(r.user.PreferredUserContactAddress.AddressLine1()||r.user.PreferredUserContactAddress.AddressLine2())+", "+r.user.PreferredUserContactAddress.City()+", "+r.user.PreferredUserContactAddress.State()+" "+r.user.PreferredUserContactAddress.PostalCode()},r.allConfirmed=ko.pureComputed((function(){return!r.showEmailAlert()&&!r.showAddressAlert()})),r.saveEmailConfirmationDate=function(e){if(r.savingEmail())return e.preventDefault(),!1;r.savingEmail(!0),r.emailError(!1);var a=$('<img class="loader" src="https://assets.orb.alkamitech.com/production/assets/global/images/loader-small.gif" width="16" height="16" />');r.emailConfirmationButtonText(""),$("#actionConfirmEmail").append(a);var o=document.getElementsByName("__RequestVerificationToken")[0].value,i={Id:r.user.PreferredUserContactEmail.Id,__RequestVerificationToken:o};$.ajax({type:"POST",url:"/DashboardV2/SaveEmailConfirmationDate",data:i,success:function(e){if(!e.success)return r.emailError(!0),$("#actionConfirmEmail").find(".loader").remove(),r.emailConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.EmailConfirmationButtonText"]),r.emailConfirmed(!1),void r.savingEmail(!1);$("#actionConfirmEmail").find(".loader").remove(),r.emailConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.EmailConfirmationButtonText"]),r.emailConfirmed(!0),r.emailError(!1),r.savingEmail(!1)},error:function(e,a,o){$("#actionConfirmEmail").find(".loader").remove(),r.emailConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.EmailConfirmationButtonText"]),r.emailError(!0),r.emailConfirmed(!1),r.savingEmail(!1)}})},r.saveAddressConfirmationDate=function(e){if(r.savingAddress())return e.preventDefault(),!1;r.savingAddress(!0),r.addressError(!1);var a=$('<img class="loader" src="https://assets.orb.alkamitech.com/production/assets/global/images/loader-small.gif" width="16" height="16" />');r.addressConfirmationButtonText(""),$("#actionConfirmAddress").append(a);var o={Id:r.user.PreferredUserContactAddress.Id};$.ajax({type:"POST",url:"/DashboardV2/SaveAddressConfirmationDate",data:o,success:function(e){if(!e.success)return $("#actionConfirmAddress").find(".loader").remove(),r.addressError(!0),r.addressConfirmed(!1),r.addressConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.AddressConfirmationButtonText"]),void r.savingAddress(!1);$("#actionConfirmAddress").find(".loader").remove(),r.addressConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.AddressConfirmationButtonText"]),r.addressConfirmed(!0),r.addressError(!1),r.savingAddress(!1)},error:function(e,a,o){$("#actionConfirmAddress").find(".loader").remove(),r.addressError(!0),r.addressConfirmed(!1),r.addressConfirmationButtonText(Alkami.Localization.SiteText["DashboardV2.AddressConfirmationButtonText"]),r.savingAddress(!1)}})}}
//# sourceMappingURL=UserConfirmation.min.js.map
