/* Minified on 1/30/2025 */
function loadModule(t){var e=t.data("onload"),a=t.data("name");t.load(t.data("load-url"),(function(i,n){"success"!=n&&t.html('<div class="empty"><p>'+Alkami.Localization.SiteText["DashboardV2.ModuleLoadFailureMessage"]+"</p></div>"),i&&""!==i||"initializeCarousel"===e&&"success"===n.toLowerCase()||t.closest(".module").hide(),e&&window[e]&&window[e](i,n),a&&t.trigger("loadModule:dashboard:"+a)}))}function initializeCarousel(){document.getElementById("carousel")&&new Glide("#carousel",{type:"carousel",autoplay:1e4}).mount()}function actionableAlertsOnLoad(t,e){0===$(".authorization-alerts").length&&""!==t&&"success"===e&&($("#module_action_items").slideDown(700),initializeActionableAlerts())}function initializeActionableAlerts(){$(".action-alert-expandable").on("click",(function(){var t=$(this).find(".action-alert-expand");0!=t.length&&(t.toggleClass("open"),t.hasClass("open")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false")),$(this).closest(".action-alerts").find(".action-alert-hidden").slideToggle(1e3)})),$(".action-alert-expandable").on("keydown",(function(t){13==t.keyCode&&$(this).trigger("click")}))}function getBusinessAchUpcomingActivity(t){t||(t=15),$.ajax({url:"/BusinessACH/GetUpcomingActivity",type:"GET",dataType:"json",data:{daysToFetch:t},success:function(t){t.TotalCount>0&&($("#business-ach-upcoming-activity").show(),$("#business-ach-upcoming-activity > button > span.activity-description").html("<strong>"+t.TotalCount+"</strong>"),$("#business-ach-upcoming-activity> button > span.activity-value").html(t.Amount),t.Items.forEach(t=>addActivityItem("#dashboard_upcoming_ach_templates",t)),$("#upcoming-empty-display").hide())}})}function getBusinessAchv2RecentActivity(t){t||(t=15),$.ajax({url:"/BusinessACH/GetRecentActivity",type:"GET",dataType:"json",data:{daysToFetch:t},success:function(t){t.TotalCount>0&&($("#business-ach-V2-recent-activity").show(),$("#business-ach-V2-recent-activity > button > span.activity-description").html("<strong>"+t.TotalCount+"</strong>"),$("#business-ach-V2-recent-activity> button > span.activity-value").html(t.Amount),t.Items.forEach(t=>addActivityItem("#dashboard_recent_ach_v2_templates",t)),$("#recent-empty-display").hide())}})}function addActivityItem(t,e){var a=moment.utc(e.ScheduledDate);$(t).append('<li><div class="screenreader-only sr-date">'+a.format("MMMM DD")+'</div><div class="date" aria-hidden="true">'+a.format("MMM")+"<strong>"+a.format("D")+'</strong></div><div class="description">'+e.Description+'</div><div class="amount">'+e.Amount.toLocaleString("en-US",{style:"currency",currency:"USD"})+"</div></li>")}$(".module-content").each((function(t,e){loadModule($(this))})),$((function(){$(".action-alert-hidden").hide(),$(".module-content.dash-activity").on("click","li.collapsed, li.expanded",(function(t){if(!$(t.target).hasClass("more-link")&&!$(t.target).hasClass("message-title")){t.preventDefault();var e=$(this),a=e.find("button"),i=e.find(".activity-details");e.toggleClass("collapsed"),e.toggleClass("expanded"),$(e[0].getAttribute("href")).toggle(),"false"===a[0].getAttribute("aria-expanded")&&i.length?(a[0].setAttribute("aria-expanded","true"),i[0].setAttribute("aria-hidden","false"),i.trigger("focus")):(a[0].setAttribute("aria-expanded","false"),i[0].setAttribute("aria-hidden","true"))}})),$("#primary_widget_content").on("click",".module-action.settings",(function(t){t.preventDefault();var e,a,i=$(this).closest(".module").find(".module-content");if(0==i.length){var n=$(this)[0].getAttribute("rel");i=$(".module-content."+n)}document.scrollingElement.scrollTop,document.scrollingElement.scrollLeft;Alkami.showModuleSettings($(this)[0].getAttribute("href"),t=>{"dash-recent"==n&&e&&($("#recent-day-setting").html("<strong>"+e+"</strong>"),1==parseInt(e)?($("#recent-day-singular").removeClass("hidden"),$("#recent-day-pluralized").addClass("hidden")):($("#recent-day-singular").addClass("hidden"),$("#recent-day-pluralized").removeClass("hidden"))),"dash-upcoming"==n&&a&&($("#upcoming-day-setting").html("<strong>"+a+"</strong>"),1==parseInt(a)?($("#upcoming-day-singular").removeClass("hidden"),$("#upcoming-day-pluralized").addClass("hidden")):($("#upcoming-day-singular").addClass("hidden"),$("#upcoming-day-pluralized").removeClass("hidden"))),t&&(i.html('<div class="loading"><p>'+Alkami.Localization.SiteText["DashboardV2.LoadingSettingsMessage"]+"</p></div>"),loadModule(i))},()=>{$("#dashboard-settings-generic-sheet form .iris-dropdown").each((function(){Alkami.Iris.DropdownComponent.refresh(),"days_recent"==this.id?$(this).on("select",(function(t,a,i){e=t.getValue()})):"days_future"==this.id&&$(this).on("select",(function(t,e,i){a=t.getValue()}))}))})})),$("#primary_widget_content").on("click","#email_confirm_btn",(function(t){$(t.target).hasClass("more-link")||$(t.target).hasClass("message-title")||(t.preventDefault(),$(this).toggleClass("open"),$(this).hasClass("open")?$(this).attr("aria-expanded","true"):$(this).attr("aria-expanded","false"),$($(this)[0].getAttribute("href")).toggle())})),$("#primary_widget_content").on("click","#remind_me_later",(function(t){t.preventDefault(),$.ajax("/DashboardV2/EStatementsRemindMeLater",{method:"POST"}).always((function(t){$("#estatements_alert").hide()}))}))}));
//# sourceMappingURL=DashboardV2.min.js.map
